{"ast":null,"code":"import _objectSpread from \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Documents\\\\Workspaces\\\\React\\\\cricket-app\\\\src\\\\components\\\\Signin\\\\signin.js\";\nimport React, { Component } from 'react';\nimport styles from './signin.css';\nimport { firebase } from '../../firebase';\nimport FormField from '../Widgets/FormFields/formFields';\n\nvar Signin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Signin, _Component);\n\n  function Signin() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Signin);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Signin)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      registerError: '',\n      loading: false,\n      formData: {\n        email: {\n          element: 'input',\n          value: '',\n          config: {\n            name: 'email_input',\n            type: 'email',\n            placeholder: 'Enter your email.'\n          },\n          validation: {\n            required: true,\n            email: true\n          },\n          valid: false,\n          touched: false,\n          validationMessage: ''\n        },\n        password: {\n          element: 'input',\n          value: '',\n          config: {\n            name: 'password_input',\n            type: 'password',\n            placeholder: 'Enter your password.'\n          },\n          validation: {\n            required: true,\n            password: true\n          },\n          valid: false,\n          touched: false,\n          validationMessage: ''\n        }\n      }\n    };\n\n    _this.updateForm = function (element) {\n      var newFormData = _objectSpread({}, _this.state.formData);\n\n      var newElement = _objectSpread({}, newFormData[element.id]);\n\n      newElement.value = element.event.target.value;\n\n      if (element.blur) {\n        var validData = _this.validate(newElement);\n\n        newElement.valid = validData[0];\n        newElement.validationMessage = validData[1];\n      }\n\n      newElement.touched = element.blur;\n      newFormData[element.id] = newElement;\n      console.log(newFormData);\n\n      _this.setState({\n        formData: newFormData\n      });\n    };\n\n    _this.validate = function (element) {\n      var error = [true, ''];\n\n      if (element.validation.email) {\n        var valid = /\\S+@\\S+\\.\\S+/.test(element.value);\n        var message = \"\".concat(!valid ? 'Must be a valid email' : '');\n        error = !valid ? [valid, message] : error;\n      }\n\n      if (element.validation.password) {\n        var _valid = element.value.length >= 5;\n\n        var _message = \"\".concat(!_valid ? 'Must be greater than 5.' : '');\n\n        error = !_valid ? [_valid, _message] : error;\n      }\n\n      if (element.validation.required) {\n        var _valid2 = element.value.trim() !== '';\n\n        var _message2 = \"\".concat(!_valid2 ? 'This field is required' : '');\n\n        error = !_valid2 ? [_valid2, _message2] : error;\n      }\n\n      return error;\n    };\n\n    _this.submitButton = function () {\n      return _this.state.loading ? 'loading...' : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick(event) {\n          _this.submitForm(event, false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Register now \"), React.createElement(\"button\", {\n        onClick: function onClick(event) {\n          _this.submitForm(event, true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Login \"));\n    };\n\n    _this.submitForm = function (event, type) {\n      event.preventDefault();\n\n      if (type !== null) {\n        var dataToSubmit = {};\n        var formIsValid = true;\n\n        for (var key in _this.state.formData) {\n          dataToSubmit[key] = _this.state.formData[key].value;\n        }\n\n        for (var _key2 in _this.state.formData) {\n          formIsValid = _this.state.formData[_key2].valid && formIsValid;\n        }\n\n        if (formIsValid) {\n          _this.setState({\n            loading: true,\n            registerError: ''\n          });\n\n          if (type) {\n            console.log('Log in');\n          } else {\n            firebase.auth().createUserWithEmailAndPassword;\n          }\n        }\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Signin, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: styles.logContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          _this2.submitForm(event, null);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Register/Login\"), React.createElement(FormField, {\n        id: 'email',\n        formData: this.state.formData.email,\n        change: function change(element) {\n          return _this2.updateForm(element);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(FormField, {\n        id: 'password',\n        formData: this.state.formData.password,\n        change: function change(element) {\n          return _this2.updateForm(element);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), this.submitButton()));\n    }\n  }]);\n\n  return Signin;\n}(Component);\n\nexport default Signin;","map":{"version":3,"sources":["D:\\Documents\\Workspaces\\React\\cricket-app\\src\\components\\Signin\\signin.js"],"names":["React","Component","styles","firebase","FormField","Signin","state","registerError","loading","formData","email","element","value","config","name","type","placeholder","validation","required","valid","touched","validationMessage","password","updateForm","newFormData","newElement","id","event","target","blur","validData","validate","console","log","setState","error","test","message","length","trim","submitButton","submitForm","preventDefault","dataToSubmit","formIsValid","key","auth","createUserWithEmailAndPassword","logContainer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport styles from './signin.css';\r\nimport {firebase} from '../../firebase';\r\n\r\nimport FormField from '../Widgets/FormFields/formFields';\r\n\r\nclass Signin extends Component {\r\n\r\n    state = {\r\n        registerError: '',\r\n        loading: false,\r\n        formData: {\r\n            email: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    name: 'email_input',\r\n                    type: 'email',\r\n                    placeholder: 'Enter your email.'\r\n                },\r\n                validation: {\r\n                    required: true,\r\n                    email: true\r\n                },\r\n                valid: false,\r\n                touched: false,\r\n                validationMessage: ''\r\n            },\r\n            password: {\r\n                element: 'input',\r\n                value: '',\r\n                config: {\r\n                    name: 'password_input',\r\n                    type: 'password',\r\n                    placeholder: 'Enter your password.'\r\n                },\r\n                validation: {\r\n                    required: true,\r\n                    password: true\r\n                },\r\n                valid: false,\r\n                touched: false,\r\n                validationMessage: ''\r\n            },\r\n        }\r\n    }\r\n\r\n    updateForm = (element) => {\r\n        const newFormData = {\r\n            ...this.state.formData\r\n        }\r\n        const newElement = {\r\n            ...newFormData[element.id]\r\n        }\r\n        newElement.value = element.event.target.value;\r\n        if (element.blur) {\r\n            let validData = this.validate(newElement);\r\n            newElement.valid = validData[0];\r\n            newElement.validationMessage = validData[1];\r\n        }\r\n        newElement.touched = element.blur;\r\n        newFormData[element.id] = newElement;\r\n        console.log(newFormData);\r\n\r\n        this.setState({\r\n            formData: newFormData\r\n        })\r\n    }\r\n\r\n    validate = (element) => {\r\n        let error = [true, ''];\r\n\r\n        if (element.validation.email) {\r\n            const valid = /\\S+@\\S+\\.\\S+/.test(element.value);\r\n            const message = `${!valid ? 'Must be a valid email' : ''}`;\r\n            error = !valid ? [valid, message] : error\r\n        }\r\n\r\n        if (element.validation.password) {\r\n            const valid = element.value.length >= 5;\r\n            const message = `${!valid ? 'Must be greater than 5.' : ''}`\r\n            error = !valid ? [valid, message] : error\r\n        }\r\n\r\n        if (element.validation.required) {\r\n            const valid = element.value.trim() !== '';\r\n            const message = `${!valid ? 'This field is required' : ''}`\r\n            error = !valid ? [valid, message] : error\r\n        }\r\n\r\n        return error;\r\n\r\n    }\r\n\r\n    submitButton = () => (\r\n        this.state.loading ?\r\n            'loading...'\r\n            :\r\n            <div>\r\n                <button onClick={(event) => { this.submitForm(event, false) }}>\r\n                    Register now </button>\r\n                <button onClick={(event) => { this.submitForm(event, true) }} >\r\n                    Login </button>\r\n            </div>\r\n    )\r\n\r\n    submitForm = (event, type) => {\r\n        event.preventDefault();\r\n        if (type !== null) {\r\n            let dataToSubmit = {};\r\n            let formIsValid = true;\r\n\r\n            for (let key in this.state.formData) {\r\n                dataToSubmit[key] = this.state.formData[key].value;\r\n            }\r\n            for (let key in this.state.formData) {\r\n                formIsValid = this.state.formData[key].valid && formIsValid\r\n            }\r\n\r\n            if (formIsValid) {\r\n                this.setState({\r\n                    loading: true,\r\n                    registerError: ''\r\n                })\r\n\r\n                if (type) {\r\n                    console.log('Log in');    \r\n                }\r\n                else{\r\n                firebase.auth()\r\n                .createUserWithEmailAndPassword\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={styles.logContainer}>\r\n                <form onSubmit={(event) => { this.submitForm(event, null) }}>\r\n\r\n                    <h2>Register/Login</h2>\r\n                    <FormField\r\n                        id={'email'}\r\n                        formData={this.state.formData.email}\r\n                        change={(element) => this.updateForm(element)}\r\n                    />\r\n\r\n                    <FormField\r\n                        id={'password'}\r\n                        formData={this.state.formData.password}\r\n                        change={(element) => this.updateForm(element)}\r\n                    />\r\n\r\n                    {this.submitButton()}\r\n\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Signin;"]},"metadata":{},"sourceType":"module"}